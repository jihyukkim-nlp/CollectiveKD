# Baseline: ColBERT (copied from paper https://arxiv.org/pdf/2004.12832.pdf)
Re-ranking
   MRR@10: 0.349
End-to-end ranking
   MRR@10 = 0.360
   Recall@50 = 0.829
   Recall@200 = 0.923
   Recall@1000 = 0.968

# Baseline: ColBERT-PRF (ReRanker, beta=0.5) (copied from paper: https://arxiv.org/pdf/2106.11251.pdf)
End-to-end ranking (on TREC 2019)
   MAP = 0.5026
   NDCG@10 = 0.7409
   Recall@1000 = 0.7977
   MRR@10 = 0.8897

End-to-end ranking (on TREC 2020)
   MAP = 0.5063
   NDCG@10 = 0.7161
   Recall@1000 = 0.8443
   MRR@10 = 0.8439

# Baseline: ColBERT (our implementation - trained using in-batch negatives) (colbert.teacher.dnn)
Re-ranking
   MRR@10: 0.354
End-to-end ranking
   MRR@10 = 0.367
   Recall@50 = 0.833
   Recall@200 = 0.925
   Recall@1000 = 0.967

TREC 2019 
{'nDCG@10': 0.6996191676961366, 'nDCG@25': 0.6611577340895359, 'nDCG@50': 0.6489031290874794, 'nDCG@100': 0.6445046665392238, 'nDCG@200': 0.6575805267886845, 'nDCG@500': 0.6897259199696175, 'nDCG@1000': 0.7122704288228963, 'R(rel=2)@3': 0.13427849571086078, 'R(rel=2)@5': 0.1841068344211011, 'R(rel=2)@10': 0.2875825212503319, 'R(rel=2)@25': 0.41898498969474013, 'R(rel=2)@50': 0.533461722369848, 'R(rel=2)@100': 0.6350332824018848, 'R(rel=2)@200': 0.7204932770174376, 'R(rel=2)@1000': 0.8370813777761269, 'P(rel=2)@1': 0.7209302325581395, 'P(rel=2)@3': 0.7286821705426357, 'P(rel=2)@5': 0.7069767441860467, 'P(rel=2)@10': 0.6325581395348838, 'P(rel=2)@25': 0.46790697674418597, 'P(rel=2)@50': 0.3572093023255815, 'P(rel=2)@100': 0.2590697674418605, 'P(rel=2)@200': 0.16999999999999998, 'P(rel=2)@1000': 0.043837209302325555, 'AP(rel=2)@1000': 0.4753639977588095, 'RR(rel=2)@10': 0.8330103359173127, 'NumRet': 43000.0, 'num_q': 43.0}

TREC 2020 
{'nDCG@10': 0.674625300218906, 'nDCG@25': 0.6404223915640629, 'nDCG@50': 0.628640636810472, 'nDCG@100': 0.6311473087514119, 'nDCG@200': 0.6521529878746319, 'nDCG@500': 0.6768959647957119, 'nDCG@1000': 0.6918869483679339, 'R(rel=2)@3': 0.16003239577496967, 'R(rel=2)@5': 0.2476104839708578, 'R(rel=2)@10': 0.38692970913678476, 'R(rel=2)@25': 0.5416199547444053, 'R(rel=2)@50': 0.6528313321662219, 'R(rel=2)@100': 0.7314423202243299, 'R(rel=2)@200': 0.7832381221272239, 'R(rel=2)@1000': 0.853532365555859, 'P(rel=2)@1': 0.7037037037037037, 'P(rel=2)@3': 0.6543209876543209, 'P(rel=2)@5': 0.6111111111111113, 'P(rel=2)@10': 0.5296296296296296, 'P(rel=2)@25': 0.36444444444444457, 'P(rel=2)@50': 0.2514814814814814, 'P(rel=2)@100': 0.157037037037037, 'P(rel=2)@200': 0.08990740740740742, 'P(rel=2)@1000': 0.021296296296296303, 'AP(rel=2)@1000': 0.4660034706836442, 'RR(rel=2)@10': 0.8140432098765432, 'NumRet': 54000.0, 'num_q': 54.0}

# Newly Experimented (Fine-tuning ColBERT)

## Ours. kd_on_bm25_negatives/prf.beta0.5.b36.lr3e6.bm25n
- Training ColBERT using labeled positive and BM25 negatives
   - Train triple: "data/triples.train.small.ids.jsonl"
   - Training using KD (Knowledge Distillation) from pre-trained ColBERT using expanded query
      - kd_expansion_pt (PRF): "experiments/colbert.teacher/MSMARCO-psg-train-kmeans.prf_only.docs3.k10.beta0.5.clusters24/label.py/2021-10-25_09.52.14/expansion.pt"

Validation performance (on re-reanking task)
colbert-**600000**.dnn: MRR@10 **0.3555993882748899** (experiments/kd_on_bm25_negatives/prf.beta0.5.b36.lr3e6.bm25n.resume/MSMARCO-psg/test.py/2021-11-08_01.00.45/ranking.tsv) # sonic

End-to-end ranking performance (experiments/kd_on_bm25_negatives/prf.beta0.5.b36.lr3e6.bm25n.resume/MSMARCO-psg/rerank.py/2021-11-08_05.32.34/ranking.tsv)
[Nov 08, 05:39:35] #> MRR@10 = 0.3668845226724886
[Nov 08, 05:39:35] #> MRR@100 = 0.3774753033318968
[Nov 08, 05:39:35] #> Recall@50 = 0.8398758357211079
[Nov 08, 05:39:35] #> Recall@200 = 0.92804441260745
[Nov 08, 05:39:35] #> Recall@1000 = 0.9689589302769821

TREC 2019: End-to-end ranking performance (experiments/kd_on_bm25_negatives/prf.beta0.5.b36.lr3e6.bm25n.resume/TREC2019-psg/rerank.py/2021-11-08_05.41.27/ranking.tsv)
{'nDCG@10': 0.7141985100157044, 'nDCG@25': 0.6786274174187298, 'nDCG@50': 0.6573840479065987, 'nDCG@100': 0.6471147691957185, 'nDCG@200': 0.6551063682869122, 'nDCG@500': 0.691297936629564, 'nDCG@1000': 0.7146281457796366, 'R(rel=2)@3': 0.13271753440064185, 'R(rel=2)@5': 0.1815201244780154, 'R(rel=2)@10': 0.2910619705801395, 'R(rel=2)@25': 0.4377554951654097, 'R(rel=2)@50': 0.5410837428916153, 'R(rel=2)@100': 0.6334262661296539, 'R(rel=2)@200': 0.7103819417370096, 'R(rel=2)@1000': 0.8402365842683676, 'P(rel=2)@1': 0.7906976744186046, 'P(rel=2)@3': 0.7596899224806203, 'P(rel=2)@5': 0.7116279069767443, 'P(rel=2)@10': 0.6395348837209304, 'P(rel=2)@25': 0.4920930232558138, 'P(rel=2)@50': 0.3679069767441861, 'P(rel=2)@100': 0.2609302325581394, 'P(rel=2)@200': 0.16930232558139532, 'P(rel=2)@1000': 0.04379069767441859, 'AP(rel=2)@1000': 0.4805637541521925, 'RR(rel=2)@10': 0.882170542635659, 'NumRet': 43000.0, 'num_q': 43.0}

TREC 2020: End-to-end ranking performance (experiments/kd_on_bm25_negatives/prf.beta0.5.b36.lr3e6.bm25n.resume/TREC2020-psg/rerank.py/2021-11-08_05.47.47/ranking.tsv)
{'nDCG@10': 0.6943876754770782, 'nDCG@25': 0.6544723125435522, 'nDCG@50': 0.6358738526487643, 'nDCG@100': 0.6364062310837026, 'nDCG@200': 0.6573659948601213, 'nDCG@500': 0.6849415360728779, 'nDCG@1000': 0.698014208448687, 'R(rel=2)@3': 0.18780201648394007, 'R(rel=2)@5': 0.254599013840508, 'R(rel=2)@10': 0.3844106953671441, 'R(rel=2)@25': 0.5389420558966719, 'R(rel=2)@50': 0.6514883893072727, 'R(rel=2)@100': 0.7252249590663392, 'R(rel=2)@200': 0.784373897624689, 'R(rel=2)@1000': 0.8500364436912545, 'P(rel=2)@1': 0.7592592592592593, 'P(rel=2)@3': 0.7098765432098766, 'P(rel=2)@5': 0.6370370370370372, 'P(rel=2)@10': 0.5388888888888889, 'P(rel=2)@25': 0.3733333333333334, 'P(rel=2)@50': 0.2548148148148148, 'P(rel=2)@100': 0.1574074074074074, 'P(rel=2)@200': 0.09018518518518517, 'P(rel=2)@1000': 0.021222222222222226, 'AP(rel=2)@1000': 0.4815734262572153, 'RR(rel=2)@10': 0.8467813051146384, 'NumRet': 54000.0, 'num_q': 54.0}
